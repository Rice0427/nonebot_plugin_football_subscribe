# NoneBot 足球比赛订阅插件 - 使用示例

本目录提供了NoneBot足球比赛订阅插件的配置示例和使用说明，帮助你快速配置和使用该插件。

## 配置步骤

1. **获取API密钥**
   - 首先，访问 [football-data.org](https://www.football-data.org/) 注册一个账号
   - 登录后，在个人中心页面获取你的API密钥
   - 免费账号有访问次数限制，通常为每分钟10次、每小时100次

2. **配置NoneBot**
   - 打开 `config_example.py` 文件，查看配置示例
   - 将示例中的配置项添加到你的NoneBot配置文件中（如`.env`或`config.py`）
   - 重点配置 `football_api_token` 为你获取的实际API密钥
   - 根据需要调整其他可选配置项

3. **启动插件**
   - 确保插件文件夹 `nonebot_plugin_football_subscribe` 已放置在 `src/plugins` 目录下
   - 重启你的NoneBot应用，插件将自动加载

## 使用示例

### 基本命令使用

在QQ群内发送以下命令可以使用插件的各项功能：

1. **订阅比赛**
   ```
   订阅足球 [球队名称]
   ```
   例如：
   ```
   订阅足球 曼联
   ```

2. **取消订阅**
   ```
   取消足球订阅 [球队名称]
   ```
   例如：
   ```
   取消足球订阅 曼联
   ```

3. **查看订阅列表**
   ```
   足球订阅列表
   ```

### 操作流程示例

#### 示例1：订阅一场比赛

1. 在群内发送：`订阅足球 切尔西`
2. 机器人返回：
   ```
   找到2场包含切尔西的比赛，请选择要订阅的比赛序号：
   1. 英超联赛：切尔西 VS 阿森纳（2023-10-28 20:30:00）
   2. 欧冠联赛：切尔西 VS 拜仁慕尼黑（2023-11-05 03:00:00）
   ```
3. 发送：`1`
4. 机器人返回：`成功订阅 切尔西 VS 阿森纳 的比赛！比赛结束后将在1分钟内生成赛后总结。`

#### 示例2：查看订阅列表

1. 在群内发送：`足球订阅列表`
2. 机器人返回：
   ```
   当前群组订阅的足球比赛如下：
   1. 切尔西 VS 阿森纳（2023-10-28 20:30:00）
      订阅人数：3
   2. 利物浦 VS 曼联（2023-11-01 20:30:00）
      订阅人数：5
   ```

## 注意事项

1. **API访问限制**
   - 免费API账号有访问次数限制，请注意不要频繁调用命令
   - 如果遇到API限制问题，可以考虑升级到付费账号

2. **比赛数据更新**
   - 比赛数据可能会有延迟更新的情况
   - 如果赛后总结未及时发送，请耐心等待一段时间

3. **订阅信息存储**
   - 订阅信息默认保存在插件目录下的 `subscriptions.json` 文件中
   - 请确保该文件有写入权限，以免订阅信息无法保存

4. **错误处理**
   - 如果遇到问题，可以查看NoneBot的日志获取详细错误信息
   - 常见问题可参考主目录下README.md中的"常见问题"部分

## 高级配置

如果你有特殊需求，可以根据以下说明进行高级配置：

1. **调整检查间隔**
   - 如果你发现API请求频繁被限制，可以增加 `match_check_interval` 的值
   - 例如：`match_check_interval = 120` （每2分钟检查一次）

2. **自定义总结延迟**
   - 如果你发现比赛数据更新较慢，可以增加 `summary_delay_minutes` 的值
   - 例如：`summary_delay_minutes = 2` （比赛结束后2分钟生成总结）

## 联系与支持

如果在使用过程中遇到问题，可以：
1. 检查主目录下的README.md文件获取更多信息
2. 查看NoneBot的日志以获取详细错误信息
3. 确保API密钥配置正确并且在有效期内